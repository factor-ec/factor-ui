{"version":3,"file":"factor-common.umd.js.map","sources":["ng://factor-common/lib/icon/icon.component.ts","ng://factor-common/lib/image/image.component.ts","ng://factor-common/lib/common.module.ts"],"sourcesContent":["import { Component, OnInit, Input, Inject } from '@angular/core';\n\n@Component({\n  selector: 'ft-icon',\n  templateUrl: './icon.component.html',\n  styleUrls: ['./icon.component.scss']\n})\nexport class IconComponent implements OnInit {\n  @Input()\n  name: string;\n  @Input()\n  collection: string;\n  @Input()\n  path: string;\n\n  constructor(\n    @Inject('FactorCommonConfiguration') private configuration\n  ) { }\n\n  ngOnInit() {\n    if (!this.collection) {\n      if (this.configuration.icon && this.configuration.icon.collection) {\n        this.collection = this.configuration.icon.collection;\n      } else {\n        this.collection = 'icons';\n      }\n    }\n    if (!this.path) {\n      this.path = 'assets/';\n    }\n  }\n}\n","import { Component, OnInit, Input, HostBinding, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'ft-image',\n  templateUrl: './image.component.html',\n  styleUrls: ['./image.component.scss']\n})\nexport class ImageComponent implements OnInit {\n  @HostBinding('class.error')\n  error: boolean;\n  @HostBinding('class.loading')\n  loading: boolean;\n  @Input()\n  src: string;\n  shown: boolean;\n\n  constructor(\n    private element: ElementRef\n  ) { }\n\n  ngOnInit() {\n    if (\"IntersectionObserver\" in window) {\n      let elementObserver = new IntersectionObserver((entries, observer) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            let image = new Image();\n            image.src = this.src;\n            this.loading = true;\n            image.onerror = () => {\n              this.error = true;\n              this.loading = false;\n            };\n            image.onload = () => {\n              if (\"decode\" in image) {\n                image.decode().then(() => {\n                  this.loading = false;\n                  this.shown = true;\n                });\n              } else {\n                console.error('Image.decode not available.');\n              }\n            };\n            elementObserver.unobserve(this.element.nativeElement);\n          }\n        });\n      }, {\n          rootMargin: \"0px 0px 0px 0px\"\n        });\n      elementObserver.observe(this.element.nativeElement);\n    } else {\n      console.error('IntersectionObserver not available.');\n      this.shown = true;\n    }\n  }\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule as AngularCommonModule } from '@angular/common';\nimport { IconComponent } from './icon/icon.component';\nimport { ImageComponent } from './image/image.component';\n\n@NgModule({\n  declarations: [\n    IconComponent,\n    ImageComponent\n  ],\n  imports: [\n    AngularCommonModule\n  ],\n  exports: [\n    IconComponent,\n    ImageComponent\n  ]\n})\nexport class CommonModule {\n  public static forRoot(configuration: any): ModuleWithProviders {\n    return {\n      ngModule: CommonModule,\n      providers: [\n        { provide: 'FactorCommonConfiguration', useValue: configuration }\n      ]\n    };\n  }\n}\n"],"names":["Component","Inject","Input","ElementRef","HostBinding","NgModule","AngularCommonModule"],"mappings":"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"}
