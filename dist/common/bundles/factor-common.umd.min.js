!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("factor-common",["exports","@angular/core","@angular/common"],t):t(e["factor-common"]={},e.ng.core,e.ng.common)}(this,function(e,t,n){"use strict";var o=(r.prototype.hash=function(e){var t=0;e+="x";for(var n=Math.round(65745979961613.07),o=0;o<e.length;o++)n<t&&(t=Math.round(t/137)),t=131*t+e.charCodeAt(o);return t},r.prototype.rgb2hex=function(e){var t="#";return e.forEach(function(e){e<16&&(t+=0),t+=e.toString(16)}),t},r.prototype.hsl2rgb=function(e,t,n){var o=n<.5?n*(1+t):n+t-n*t,r=2*n-o;return[(e/=360)+1/3,e,e-1/3].map(function(e){return e<0&&e++,1<e&&e--,e=e<1/6?r+6*(o-r)*e:e<.5?o:e<2/3?r+6*(o-r)*(2/3-e):r,Math.round(255*e)})},r.prototype.hsl=function(e){var t,n,o=this.hash(e);if(this.hueRanges.length){var r=this.hueRanges[o%this.hueRanges.length];t=o/this.hueRanges.length%727*(r.max-r.min)/727+r.min}else t=o%359;return o=Math.round(o/360),n=this.S[o%this.S.length],o=Math.round(o/this.S.length),[t,n,this.L[o%this.L.length]]},r.prototype.rgb=function(e){var t=this.hsl(e);return this.hsl2rgb(t[0],t[1],t[2])},r.prototype.hex=function(e){var t=this.rgb(e);return this.rgb2hex(t)},r.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],r.ctorParameters=function(){return[]},r.ngInjectableDef=t.defineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r);function r(){var e={},t=[e.lightness,e.saturation].map(function(e){return e=e||[.35,.5,.65],Array.isArray(e)?e.concat():[e]});this.L=t[0],this.S=t[1],"number"==typeof e.hue&&(e.hue={min:e.hue,max:e.hue}),"object"!=typeof e.hue||Array.isArray(e.hue)||(e.hue=[e.hue]),"undefined"==typeof e.hue&&(e.hue=[]),this.hueRanges=e.hue.map(function(e){return{min:"undefined"==typeof e.min?0:e.min,max:"undefined"==typeof e.max?360:e.max}})}var i=(Object.defineProperty(s.prototype,"src",{set:function(e){var t=this;if(e&&""!=e.trim()){this._src=e;var n=new Image;n.src=e,n.onload=function(){"decode"in n?n.decode().then(function(){t.loaded=!0}):console.error("Image.decode not available.")}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"label",{set:function(e){this._label=e,this.initials=this.getInitials(e)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backgroundColor",{get:function(){return this.colorService.hex(this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"backgroundImage",{get:function(){return"url("+this._src+")"},enumerable:!0,configurable:!0}),s.prototype.ngOnInit=function(){},s.prototype.getInitials=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()},s.decorators=[{type:t.Component,args:[{selector:"ft-avatar",template:'<div *ngIf="!loaded">{{ initials }}</div>\n',styles:[":host{--default-size:var(--size, 3rem);display:flex;align-items:center;justify-content:center;color:#fff;background-size:cover;background-repeat:no-repeat;border-radius:100vh;padding:.25rem;font-size:calc(var(--default-size) - (var(--default-size) * .5));min-width:var(--default-size);min-height:var(--default-size)}div{font-size:1em;line-height:1em}"]}]}],s.ctorParameters=function(){return[{type:o}]},s.propDecorators={src:[{type:t.Input}],label:[{type:t.Input}],backgroundColor:[{type:t.HostBinding,args:["style.background-color"]}],backgroundImage:[{type:t.HostBinding,args:["style.background-image"]}]},s);function s(e){this.colorService=e}var a=(c.prototype.ngOnInit=function(){this.collection||(this.configuration.icon&&this.configuration.icon.collection?this.collection=this.configuration.icon.collection:this.collection="icons"),this.path||(this.configuration.icon&&this.configuration.icon.path?this.path=this.configuration.icon.path:this.path="assets")},c.decorators=[{type:t.Component,args:[{selector:"ft-icon",template:' <svg><use attr.xlink:href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" attr.href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" /></svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle;fill:currentColor}']}]}],c.ctorParameters=function(){return[{type:undefined,decorators:[{type:t.Inject,args:["FactorCommonConfiguration"]}]}]},c.propDecorators={name:[{type:t.Input}],collection:[{type:t.Input}],path:[{type:t.Input}]},c);function c(e){this.configuration=e}var l=(h.prototype.ngOnInit=function(){var n=this;if("IntersectionObserver"in window){var o=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=new Image;t.src=n.src,setTimeout(function(){n.loading=!0},100),t.onerror=function(){n.error=!0,n.loading=!1},t.onload=function(){"decode"in t?t.decode().then(function(){n.loading=!1,n.shown=!0}):console.error("Image.decode not available.")},o.unobserve(n.element.nativeElement)}})},{rootMargin:"0px 0px 200px 0px"});o.observe(this.element.nativeElement)}else console.error("IntersectionObserver not available."),this.shown=!0},h.decorators=[{type:t.Component,args:[{selector:"ft-image",template:'<img *ngIf="shown" [src]="src" />\n',styles:[":host{display:inline-block;overflow:hidden;display:flex;align-items:center;justify-content:center}:host.loading{background-color:rgba(0,0,0,.03)}:host.loading::after{content:'';display:block;background-image:linear-gradient(to right,transparent,rgba(255,255,255,.3),transparent);height:100%;width:50%;-webkit-animation:.8s linear infinite placeholder-loading;animation:.8s linear infinite placeholder-loading}:host.error{background-color:rgba(255,0,0,.03)}img{max-width:100%;-webkit-animation:.3s fade-in;animation:.3s fade-in}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes placeholder-loading{from{transform:translate3d(-200%,0,0)}to{transform:translate3d(200%,0,0)}}@keyframes placeholder-loading{from{transform:translate3d(-200%,0,0)}to{transform:translate3d(200%,0,0)}}"]}]}],h.ctorParameters=function(){return[{type:t.ElementRef}]},h.propDecorators={error:[{type:t.HostBinding,args:["class.error"]}],loading:[{type:t.HostBinding,args:["class.loading"]}],src:[{type:t.Input}]},h);function h(e){this.element=e}var f=(u.prototype.ngOnInit=function(){var n=this;"IntersectionObserver"in window?new IntersectionObserver(function(e,t){e.forEach(function(e){n.event.emit(e.isIntersecting)})},this.options).observe(this.element.nativeElement):console.error("ftObserveIntersecting not available in this browser.")},u.decorators=[{type:t.Directive,args:[{selector:"[ftObserveIntersecting]"}]}],u.ctorParameters=function(){return[{type:t.ElementRef}]},u.propDecorators={options:[{type:t.Input,args:["ftObserveIntersectingOptions"]}],event:[{type:t.Output,args:["ftObserveIntersecting"]}]},u);function u(e){this.element=e,this.event=new t.EventEmitter}var p=(d.prototype.ngOnInit=function(){this.color="var(--primary)",this.value=0},d.decorators=[{type:t.Component,args:[{selector:"ft-progress",template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n  <circle class="track" cx="50" cy="50" r="40" />\n  <circle class="bar" [ngClass]="mode" cx="50" cy="50" r="40" [ngStyle]="{\'stroke\': color, \'stroke-dashoffset\': mode==\'determinate\'? \'calc((3.14159265 * 40 * 2 * (100 - \'+value+\')) / 100)\' : null}"></circle>\n</svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle}svg .track{fill:none;stroke-opacity:.08;stroke-width:10;stroke:#000}svg .bar{fill:none;stroke-opacity:.9;stroke-width:6}svg .bar.indeterminate{-webkit-animation:2s linear infinite progress-rotation;animation:2s linear infinite progress-rotation}svg .bar.determinate{stroke-dasharray:calc(2 * 3.1415926536 * 40)}@-webkit-keyframes progress-rotation{0%{stroke-dashoffset:0;stroke-dasharray:150.6 100.4}50%{stroke-dasharray:1 250}100%{stroke-dashoffset:502;stroke-dasharray:150.6 100.4}}@keyframes progress-rotation{0%{stroke-dashoffset:0;stroke-dasharray:150.6 100.4}50%{stroke-dasharray:1 250}100%{stroke-dashoffset:502;stroke-dasharray:150.6 100.4}}']}]}],d.ctorParameters=function(){return[]},d.propDecorators={color:[{type:t.Input}],mode:[{type:t.Input}],size:[{type:t.Input}],value:[{type:t.Input}]},d);function d(){this.mode="indeterminate"}var g=(m.forRoot=function(e){return{ngModule:m,providers:[{provide:"FactorCommonConfiguration",useValue:e}]}},m.decorators=[{type:t.NgModule,args:[{declarations:[i,a,l,f,p],imports:[n.CommonModule],exports:[i,a,l,f,p]}]}],m);function m(){}e.AvatarComponent=i,e.IconComponent=a,e.ImageComponent=l,e.ObserveIntersectingDirective=f,e.ProgressComponent=p,e.ColorService=o,e.CommonModule=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=factor-common.umd.min.js.map