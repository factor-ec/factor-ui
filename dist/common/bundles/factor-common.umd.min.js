!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core"),require("@angular/common"),require("@angular/material/button"),require("@angular/material/dialog"),require("@angular/material/snack-bar")):"function"==typeof define&&define.amd?define("factor-common",["exports","rxjs","@angular/core","@angular/common","@angular/material/button","@angular/material/dialog","@angular/material/snack-bar"],e):e(t["factor-common"]={},t.rxjs,t.ng.core,t.ng.common,t.ng.material.button,t.ng.material.dialog,t.ng.material["snack-bar"])}(this,function(t,r,n,e,o,i,a){"use strict";var s=(c.prototype.ngOnInit=function(){this.collection||(this.configuration.icon&&this.configuration.icon.collection?this.collection=this.configuration.icon.collection:this.collection="icons"),this.path||(this.configuration.icon&&this.configuration.icon.path?this.path=this.configuration.icon.path:this.path="assets")},c.decorators=[{type:n.Component,args:[{selector:"ft-icon",template:' <svg><use attr.xlink:href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" attr.href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" /></svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle;fill:currentColor}']}]}],c.ctorParameters=function(){return[{type:undefined,decorators:[{type:n.Inject,args:["FactorCommonConfiguration"]}]}]},c.propDecorators={name:[{type:n.Input}],collection:[{type:n.Input}],path:[{type:n.Input}]},c);function c(t){this.configuration=t}var l=(m.prototype.ngOnInit=function(){var n=this;if("IntersectionObserver"in window){var o=new IntersectionObserver(function(t,e){t.forEach(function(t){if(t.isIntersecting){var e=new Image;e.src=n.src,setTimeout(function(){n.loading=!0},100),e.onerror=function(){n.error=!0,n.loading=!1},e.onload=function(){"decode"in e?e.decode().then(function(){n.loading=!1,n.shown=!0}):console.error("Image.decode not available.")},o.unobserve(n.element.nativeElement)}})},{rootMargin:"0px 0px 200px 0px"});o.observe(this.element.nativeElement)}else console.error("IntersectionObserver not available."),this.shown=!0},m.decorators=[{type:n.Component,args:[{selector:"ft-image",template:'<img *ngIf="shown" [src]="src" />\n',styles:[":host{display:inline-block;overflow:hidden;display:flex;align-items:center;justify-content:center}:host.loading{background-color:rgba(0,0,0,.03)}:host.loading::after{content:'';display:block;background-image:linear-gradient(to right,transparent,rgba(255,255,255,.3),transparent);height:100%;width:50%;-webkit-animation:.8s linear infinite placeholder-loading;animation:.8s linear infinite placeholder-loading}:host.error{background-color:rgba(255,0,0,.03)}img{max-width:100%;-webkit-animation:.3s fade-in;animation:.3s fade-in}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes placeholder-loading{from{transform:translate3d(-200%,0,0)}to{transform:translate3d(200%,0,0)}}@keyframes placeholder-loading{from{transform:translate3d(-200%,0,0)}to{transform:translate3d(200%,0,0)}}"]}]}],m.ctorParameters=function(){return[{type:n.ElementRef}]},m.propDecorators={error:[{type:n.HostBinding,args:["class.error"]}],loading:[{type:n.HostBinding,args:["class.loading"]}],src:[{type:n.Input}]},m);function m(t){this.element=t}var p=(d.prototype.ngOnInit=function(){},d.decorators=[{type:n.Component,args:[{selector:"ft-progress",template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n  <circle class="track" cx="50" cy="50" r="40" />\n  <circle class="bar" [ngClass]="mode" cx="50" cy="50" r="40" [ngStyle]="{\'stroke\': color, \'stroke-dashoffset\': mode==\'determinate\'? \'calc((3.14159265 * 40 * 2 * (100 - \'+value+\')) / 100)\' : null}">\n    <ng-container *ngIf="mode==\'indeterminate\'">\n      <animate attributeName="stroke-dashoffset" dur="2s" repeatCount="indefinite" from="0" to="502" />\n      <animate attributeName="stroke-dasharray" dur="2s" repeatCount="indefinite" values="150.6 100.4;1 250;150.6 100.4" />\n    </ng-container>\n  </circle>\n</svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle}svg .track{fill:none;stroke-opacity:.08;stroke-width:10;stroke:#000}svg .bar{fill:none;stroke-opacity:.9;stroke-width:6}svg .bar.determinate{stroke-dasharray:calc(2 * 3.1415926536 * 40)}']}]}],d.ctorParameters=function(){return[]},d.propDecorators={color:[{type:n.Input}],mode:[{type:n.Input}],value:[{type:n.Input}]},d);function d(){this.color="var(--primary)",this.mode="indeterminate",this.value=0}var g=(f.prototype.ngOnInit=function(){},f.prototype.select=function(t){this.beforeSelect.emit(t)},f.decorators=[{type:n.Component,args:[{selector:"ft-message",template:'<h1 mat-dialog-title *ngIf="data.options.title">{{ data.options.title }}</h1>\n<div mat-dialog-content>\n  <ft-icon *ngIf="data.options.icon" [name]="data.options.icon.name" [collection]="data.options.icon.collection" size="data.options.icon.size"></ft-icon>\n  <div>{{ data.message }}</div>\n</div>\n<div mat-dialog-actions>\n  <ng-container *ngIf="data.options && data.options.actions && data.options.actions.length > 0; else acceptTemplate">\n    <button type="button" mat-button [color]="action.color" autofocus="action.color == \'primary\'" *ngFor="let action of data.options.actions; let i = index" (click)="select(action.value)">{{ action.label }}</button>\n  </ng-container>\n</div>\n<ng-template #acceptTemplate>\n  <button type="button" mat-button color="primary" i18n (click)="select(\'-1\')">Accept</button>\n</ng-template>\n',styles:["[mat-dialog-content]{display:flex;align-items:center;margin-bottom:1rem}[mat-dialog-actions]{justify-content:flex-end;padding:.5rem;margin-left:-1.5rem;margin-right:-1.5rem}"]}]}],f.ctorParameters=function(){return[{type:i.MatDialogRef},{type:undefined,decorators:[{type:n.Inject,args:[i.MAT_DIALOG_DATA]}]}]},f.propDecorators={beforeSelect:[{type:n.Output}]},f);function f(t,e){this.dialogRef=t,this.data=e,this.beforeSelect=new n.EventEmitter}var u=(h.prototype.show=function(t,e){var n=new r.ReplaySubject(null),o=n.asObservable();switch((e=Object.assign({type:null,duration:2e3},e)).type){default:case"notification":this.snackBar.open(t,"",{duration:e.duration||2e3});break;case"modal":var i=this.dialog.open(g,{width:e.width||"250px",data:{message:t,options:e},autoFocus:!1,disableClose:!0});i.componentInstance.beforeSelect.subscribe(function(t){n.next(t),i.close()}),this.snackBar.dismiss()}return o},h.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],h.ctorParameters=function(){return[{type:a.MatSnackBar},{type:i.MatDialog}]},h.ngInjectableDef=n.defineInjectable({factory:function(){return new h(n.inject(a.MatSnackBar),n.inject(i.MatDialog))},token:h,providedIn:"root"}),h);function h(t,e){this.snackBar=t,this.dialog=e}var y=(v.prototype.ngOnInit=function(){var n=this;"IntersectionObserver"in window?new IntersectionObserver(function(t,e){t.forEach(function(t){n.event.emit(t.isIntersecting)})},this.options).observe(this.element.nativeElement):console.error("ftObserveIntersecting not available in this browser.")},v.decorators=[{type:n.Directive,args:[{selector:"[ftObserveIntersecting]"}]}],v.ctorParameters=function(){return[{type:n.ElementRef}]},v.propDecorators={options:[{type:n.Input,args:["ftObserveIntersectingOptions"]}],event:[{type:n.Output,args:["ftObserveIntersecting"]}]},v);function v(t){this.element=t,this.event=new n.EventEmitter}var b=(I.forRoot=function(t){return{ngModule:I,providers:[{provide:"FactorCommonConfiguration",useValue:t}]}},I.decorators=[{type:n.NgModule,args:[{declarations:[s,l,p,y,g],imports:[e.CommonModule,o.MatButtonModule,i.MatDialogModule,a.MatSnackBarModule],exports:[s,l,p,y],entryComponents:[g]}]}],I);function I(){}t.IconComponent=s,t.ImageComponent=l,t.ProgressComponent=p,t.MessageService=u,t.ObserveIntersectingDirective=y,t.CommonModule=b,t.Éµa=g,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=factor-common.umd.min.js.map