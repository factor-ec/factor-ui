!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("factor-utils"),require("@angular/common")):"function"==typeof define&&define.amd?define("factor-common",["exports","@angular/core","factor-utils","@angular/common"],t):t((e=e||self)["factor-common"]={},e.ng.core,e["factor-utils"],e.ng.common)}(this,(function(e,t,o,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}var r=function(){function e(e){this.colorService=e}return Object.defineProperty(e.prototype,"src",{set:function(e){var t=this;if(e&&""!=e.trim()){this._src=e;var o=new Image;o.src=e,o.onload=function(){"decode"in o?o.decode().then((function(){t.loaded=!0})):console.error("Image.decode not available.")}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{set:function(e){this._label=e,this.initials=this.getInitials(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.colorService.hex(this._label)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundImage",{get:function(){return this._src?"url("+this._src+")":""},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.getInitials=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()},e.ctorParameters=function(){return[{type:o.ColorService}]},i([t.Input()],e.prototype,"src",null),i([t.Input()],e.prototype,"label",null),i([t.HostBinding("style.background-color")],e.prototype,"backgroundColor",null),i([t.HostBinding("style.background-image")],e.prototype,"backgroundImage",null),e=i([t.Component({selector:"ft-avatar",template:'<div *ngIf="!loaded">{{ initials }}</div>\n',styles:[":host{--default-size:var(--size, 3rem);display:inline-flex;align-items:center;justify-content:center;color:#fff;background-size:cover;background-repeat:no-repeat;border-radius:100vh;padding:.25rem;font-size:calc(var(--default-size) - (var(--default-size) * .5));min-width:var(--default-size);min-height:var(--default-size)}div{font-size:1em;line-height:1em}"]})],e)}(),s=function(){function e(e){this.configuration=e}var o,n;return e.prototype.ngOnInit=function(){this.collection||(this.configuration.icon&&this.configuration.icon.collection?this.collection=this.configuration.icon.collection:this.collection="icons"),this.path||(this.configuration.icon&&this.configuration.icon.path?this.path=this.configuration.icon.path:this.path="assets")},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:["FactorCommonConfiguration"]}]}]},i([t.Input()],e.prototype,"name",void 0),i([t.Input()],e.prototype,"collection",void 0),i([t.Input()],e.prototype,"path",void 0),i([t.Input()],e.prototype,"size",void 0),e=i([t.Component({selector:"ft-icon",template:' <svg><use attr.xlink:href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" attr.href="{{ this.path }}/{{ this.collection }}.svg#{{ name }}" /></svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle;fill:currentColor}']}),(o=0,n=t.Inject("FactorCommonConfiguration"),function(e,t){n(e,t,o)})],e)}(),a=function(){function e(e){this.element=e}return e.prototype.ngOnInit=function(){var e=this;if("IntersectionObserver"in window){var t=new IntersectionObserver((function(o,n){o.forEach((function(o){if(o.isIntersecting){var n=new Image;n.src=e.src,setTimeout((function(){e.loading=!0}),100),n.onerror=function(){e.error=!0,e.loading=!1},n.onload=function(){"decode"in n?n.decode().then((function(){e.loading=!1,e.shown=!0})):console.error("Image.decode not available.")},t.unobserve(e.element.nativeElement)}}))}),{rootMargin:"0px 0px 200px 0px"});t.observe(this.element.nativeElement)}else console.error("IntersectionObserver not available."),this.loading=!1,this.shown=!0},e.ctorParameters=function(){return[{type:t.ElementRef}]},i([t.HostBinding("class.ft-image--error")],e.prototype,"error",void 0),i([t.HostBinding("class.ft-image--loading")],e.prototype,"loading",void 0),i([t.Input()],e.prototype,"src",void 0),e=i([t.Component({selector:"ft-image",template:'<img *ngIf="shown" [src]="src" />\n<ft-icon name="warning" size="2" *ngIf="error"></ft-icon>\n',styles:[':host{display:inline-block;overflow:hidden;display:flex;align-items:center;justify-content:center}:host.ft-image--loading{background-color:rgba(0,0,0,.03);position:relative;overflow:hidden}:host.ft-image--loading::after{content:"";display:block;background-color:rgba(0,0,0,.02);position:absolute;top:0;bottom:0;width:100%;height:100%;transform:translateX(0);-webkit-animation:1.5s ease-in-out infinite placeholder-loading;animation:1.5s ease-in-out infinite placeholder-loading}:host.ft-image--error{background-color:rgba(255,0,0,.03)}:host.ft-image--error ft-icon{color:var(--danger)}img{position:relative;z-index:1;max-width:100%;max-height:100%;-webkit-animation:.3s fade-in;animation:.3s fade-in}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes placeholder-loading{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}@keyframes placeholder-loading{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}']})],e)}(),c=function(){function e(){this.mode="indeterminate"}return e.prototype.ngOnInit=function(){this.color=this.color||"var(--primary)",this.value=0},i([t.Input()],e.prototype,"color",void 0),i([t.Input()],e.prototype,"mode",void 0),i([t.Input()],e.prototype,"size",void 0),i([t.Input()],e.prototype,"value",void 0),e=i([t.Component({selector:"ft-progress",template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n  <circle class="track" cx="50" cy="50" r="40" />\n  <circle class="bar" [ngClass]="mode" cx="50" cy="50" r="40" [ngStyle]="{\'stroke\': color, \'stroke-dashoffset\': mode==\'determinate\'? \'calc((3.14159265 * 40 * 2 * (100 - \'+value+\')) / 100)\' : null}"></circle>\n</svg>\n',styles:[':host{line-height:0;display:inline-block}:host[size="1"]{font-size:1rem}:host[size="2"]{font-size:1.5rem}:host[size="3"]{font-size:2rem}:host[size="4"]{font-size:3rem}:host[size="5"]{font-size:4.5rem}:host[size="6"]{font-size:8rem}:host[size="7"]{font-size:16rem}:host[size="8"]{font-size:32rem}svg{width:1em;height:1em;vertical-align:middle}svg .track{fill:none;stroke-opacity:.08;stroke-width:10;stroke:#000}svg .bar{fill:none;stroke-opacity:.9;stroke-width:6}svg .bar.indeterminate{-webkit-animation:2s linear infinite progress-rotation;animation:2s linear infinite progress-rotation}svg .bar.determinate{stroke-dasharray:calc(2 * 3.1415926536 * 40)}@-webkit-keyframes progress-rotation{0%{stroke-dashoffset:0;stroke-dasharray:150.6 100.4}50%{stroke-dasharray:1 250}100%{stroke-dashoffset:502;stroke-dasharray:150.6 100.4}}@keyframes progress-rotation{0%{stroke-dashoffset:0;stroke-dasharray:150.6 100.4}50%{stroke-dasharray:1 250}100%{stroke-dashoffset:502;stroke-dasharray:150.6 100.4}}']})],e)}(),l=function(){function e(e){this.element=e,this.event=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;"IntersectionObserver"in window?new IntersectionObserver((function(t,o){t.forEach((function(t){e.event.emit(t.isIntersecting)}))}),this.options).observe(this.element.nativeElement):console.error("ftObserveIntersecting not available in this browser.")},e.ctorParameters=function(){return[{type:t.ElementRef}]},i([t.Input("ftObserveIntersectingOptions")],e.prototype,"options",void 0),i([t.Output("ftObserveIntersecting")],e.prototype,"event",void 0),e=i([t.Directive({selector:"[ftObserveIntersecting]"})],e)}(),f=function(){function e(){}var o;return o=e,e.forRoot=function(e){return{ngModule:o,providers:[{provide:"FactorCommonConfiguration",useValue:e}]}},e=o=i([t.NgModule({declarations:[r,s,a,l,c],imports:[n.CommonModule],exports:[r,s,a,l,c]})],e)}();e.AvatarComponent=r,e.CommonModule=f,e.IconComponent=s,e.ImageComponent=a,e.ObserveIntersectingDirective=l,e.ProgressComponent=c,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=factor-common.umd.min.js.map