{"version":3,"file":"factor-inputs.js","sources":["ng://factor-inputs/lib/file-picker/file-picker.component.ts","ng://factor-inputs/lib/rating/rating.component.ts","ng://factor-inputs/lib/inputs.module.ts","ng://factor-inputs/public-api.ts","ng://factor-inputs/factor-inputs.ts"],"sourcesContent":["import { Component, ElementRef, forwardRef, HostBinding, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ft-file-picker',\n  templateUrl: './file-picker.component.html',\n  styleUrls: ['./file-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => FilePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class FilePickerComponent implements OnInit, ControlValueAccessor {\n  @Input()\n  set accept (value: string) {\n    this.fileInput.accept = value;\n  }\n  @Input()\n  set disabled (value: boolean) {\n    this.fileInput.disabled = value;\n  }\n  @Input()\n  set multiple (value: boolean) {\n    this.fileInput.multiple = value;\n  }\n  @HostBinding('class.dragover')\n  dragover: boolean;\n  fileInput: HTMLInputElement;\n  _value: string;\n  propagateChange = (_: any) => { };\n\n  constructor(private elementRef: ElementRef) {\n    this.createInput();\n  }\n\n  ngOnInit() {\n\n  }\n  createInput() {\n    const componentElement = this.elementRef.nativeElement;\n    this.fileInput = document.createElement('input');\n    this.fileInput.style.display = 'none';\n    this.fileInput.type = 'file';\n    this.fileInput.addEventListener('change', (event: any) => {\n      const reader = new FileReader();\n      this.loadValue(event.target.files);\n    });\n    componentElement.appendChild(this.fileInput);\n  }\n  loadValue(files) {\n    if (files && files.length>0) {\n      let data: any[] = [];\n      for (let i = 0; i<files.length; i++) {\n        const file = files.item(i);\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          data.push({\n            data: reader.result,\n            lastModifiedDate: file.lastModifiedDate,\n            name: file.name,\n            size: file.size,\n            type: file.type\n          });\n          if (data.length==files.length) {\n            this.value = data.length>0? data : null;\n          }\n        };\n      }\n    }\n  }\n  @HostListener('click')\n  openDialog() {\n    this.fileInput.click();\n  }\n  get value() {\n    return this._value;\n  }\n  @Input()\n  set value(value: any) {\n    this._value = value;\n    this.propagateChange(this._value);\n  }\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  registerOnTouched(fn) {\n    //this.propagateChange = fn;\n  }\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  updateValue(event: any) {\n    this.value = event.target.value;\n  }\n  writeValue(value: string) {\n    this.value = value;\n  }\n}\n","import { Component, OnInit, HostBinding, forwardRef, ElementRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ft-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class RatingComponent implements OnInit, ControlValueAccessor {\n  disabled: boolean;\n  hover: number;\n  propagateChange = (_: any) => { };\n  @Input()\n  readOnly: boolean;\n  stars: any[] = [\n    { value: 1 },\n    { value: 2 },\n    { value: 3 },\n    { value: 4 },\n    { value: 5 }\n  ];\n  _value: number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n  get value() {\n    return this._value;\n  }\n  @Input()\n  set value(value: any) {\n    this._value = value;\n    this.propagateChange(this._value);\n  }\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  registerOnTouched(fn) {\n    //this.propagateChange = fn;\n  }\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  setRate(value, isHover?) {\n    if (isHover) {\n      this.hover = value;\n    } else {\n      this.value = value;\n    }\n  }\n  updateValue(event: any) {\n    this.value = event.target.value;\n  }\n  writeValue(value: string) {\n    this.value = value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CommonModule as FactorCommonModule } from 'factor-common';\n\nimport { FilePickerComponent } from './file-picker/file-picker.component';\nimport { RatingComponent } from './rating/rating.component';\n\n@NgModule({\n  declarations: [\n    FilePickerComponent,\n    RatingComponent\n  ],\n  imports: [\n    CommonModule,\n    FactorCommonModule\n  ],\n  exports: [\n    FilePickerComponent,\n    RatingComponent\n  ]\n})\nexport class InputsModule { }\n","/*\n * Public API Surface of inputs\n */\n\n export * from './lib/inputs.module';\n export * from './lib/file-picker/file-picker.component';\n export * from './lib/rating/rating.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["FactorCommonModule"],"mappings":"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"}