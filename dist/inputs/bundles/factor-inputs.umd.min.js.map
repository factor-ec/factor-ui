{"version":3,"sources":["ng://factor-inputs/lib/file-picker/file-picker.component.ts","ng://factor-inputs/lib/rating/rating.component.ts","ng://factor-inputs/lib/inputs.module.ts"],"names":["FilePickerComponent","Object","defineProperty","prototype","value","this","fileInput","accept","disabled","multiple","ngOnInit","createInput","_this","componentElement","elementRef","nativeElement","document","createElement","style","display","type","addEventListener","event","FileReader","loadValue","target","files","appendChild","length","data_1","i","file","item","reader","readAsDataURL","onload","push","data","result","lastModifiedDate","name","size","openDialog","click","_value","propagateChange","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","updateValue","writeValue","Component","args","selector","template","providers","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ElementRef","Input","HostBinding","HostListener","_","RatingComponent","setRate","isHover","hover","stars","InputsModule","NgModule","declarations","imports","CommonModule","FactorCommonModule","exports"],"mappings":"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","sourcesContent":["import { Component, ElementRef, forwardRef, HostBinding, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ft-file-picker',\n  templateUrl: './file-picker.component.html',\n  styleUrls: ['./file-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => FilePickerComponent),\n      multi: true\n    }\n  ]\n})\nexport class FilePickerComponent implements OnInit, ControlValueAccessor {\n  @Input()\n  set accept (value: string) {\n    this.fileInput.accept = value;\n  }\n  @Input()\n  set disabled (value: boolean) {\n    this.fileInput.disabled = value;\n  }\n  @Input()\n  set multiple (value: boolean) {\n    this.fileInput.multiple = value;\n  }\n  @HostBinding('class.dragover')\n  dragover: boolean;\n  fileInput: HTMLInputElement;\n  _value: string;\n  propagateChange = (_: any) => { };\n\n  constructor(private elementRef: ElementRef) {\n    this.createInput();\n  }\n\n  ngOnInit() {\n\n  }\n  createInput() {\n    const componentElement = this.elementRef.nativeElement;\n    this.fileInput = document.createElement('input');\n    this.fileInput.style.display = 'none';\n    this.fileInput.type = 'file';\n    this.fileInput.addEventListener('change', (event: any) => {\n      const reader = new FileReader();\n      this.loadValue(event.target.files);\n    });\n    componentElement.appendChild(this.fileInput);\n  }\n  loadValue(files) {\n    if (files && files.length>0) {\n      let data: any[] = [];\n      for (let i = 0; i<files.length; i++) {\n        const file = files.item(i);\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          data.push({\n            data: reader.result,\n            lastModifiedDate: file.lastModifiedDate,\n            name: file.name,\n            size: file.size,\n            type: file.type\n          });\n          if (data.length==files.length) {\n            this.value = data.length>0? data : null;\n          }\n        };\n      }\n    }\n  }\n  @HostListener('click')\n  openDialog() {\n    this.fileInput.click();\n  }\n  get value() {\n    return this._value;\n  }\n  @Input()\n  set value(value: any) {\n    this._value = value;\n    this.propagateChange(this._value);\n  }\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  registerOnTouched(fn) {\n    //this.propagateChange = fn;\n  }\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  updateValue(event: any) {\n    this.value = event.target.value;\n  }\n  writeValue(value: string) {\n    this.value = value;\n  }\n}\n","import { Component, OnInit, HostBinding, forwardRef, ElementRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'ft-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => RatingComponent),\n      multi: true\n    }\n  ]\n})\nexport class RatingComponent implements OnInit, ControlValueAccessor {\n  disabled: boolean;\n  hover: number;\n  propagateChange = (_: any) => { };\n  @Input()\n  readOnly: boolean;\n  stars: any[] = [\n    { value: 1 },\n    { value: 2 },\n    { value: 3 },\n    { value: 4 },\n    { value: 5 }\n  ];\n  _value: number;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n  get value() {\n    return this._value;\n  }\n  @Input()\n  set value(value: any) {\n    this._value = value;\n    this.propagateChange(this._value);\n  }\n  registerOnChange(fn) {\n    this.propagateChange = fn;\n  }\n  registerOnTouched(fn) {\n    //this.propagateChange = fn;\n  }\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  setRate(value, isHover?) {\n    if (isHover) {\n      this.hover = value;\n    } else {\n      this.value = value;\n    }\n  }\n  updateValue(event: any) {\n    this.value = event.target.value;\n  }\n  writeValue(value: string) {\n    this.value = value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CommonModule as FactorCommonModule } from 'factor-common';\n\nimport { FilePickerComponent } from './file-picker/file-picker.component';\nimport { RatingComponent } from './rating/rating.component';\n\n@NgModule({\n  declarations: [\n    FilePickerComponent,\n    RatingComponent\n  ],\n  imports: [\n    CommonModule,\n    FactorCommonModule\n  ],\n  exports: [\n    FilePickerComponent,\n    RatingComponent\n  ]\n})\nexport class InputsModule { }\n"]}