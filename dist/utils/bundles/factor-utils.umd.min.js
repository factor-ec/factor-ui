!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/router"),require("@angular/core")):"function"==typeof define&&define.amd?define("factor-utils",["exports","@angular/router","@angular/core"],t):t(e["factor-utils"]={},e.ng.router,e.ng.core)}(this,function(e,r,n){"use strict";var t=function(){function e(){}return e.prototype["delete"]=function(e,t){t?delete t[e]:delete sessionStorage[e]},e.prototype.get=function(e,t){var n,r=t?t[e]:sessionStorage[e];if(r)try{n=JSON.parse(r)}catch(o){n=r}return n},e.prototype.set=function(e,t,n){n?n[e]=JSON.stringify(t):sessionStorage[e]=JSON.stringify(t)},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),o=function(){function e(e){var n=this;(this.router=e).events.subscribe(function(e){try{"function"==typeof gtag&&e instanceof r.NavigationEnd&&n.trackingId&&setTimeout(function(){gtag("config",n.trackingId,{page_title:document.title,page_path:e.urlAfterRedirects})},100)}catch(t){console.error(t)}})}return e.prototype.appendTrackingCode=function(e){try{if(e){this.trackingId=e;var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id="+e,document.head.appendChild(t);var n=document.createElement("script");n.innerHTML="\n         window.dataLayer = window.dataLayer || [];\n         function gtag(){dataLayer.push(arguments);}\n         gtag('js', new Date());\n         gtag('config', '"+e+"');\n       ",document.head.appendChild(n)}}catch(r){console.error("Error appending google analytics"),console.error(r)}},e.prototype.trackEvent=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),"function"==typeof gtag&&gtag("event",e,{event_category:t,event_label:n,value:r})},e.prototype.trackException=function(e,t){"function"==typeof gtag&&gtag("event","exception",{description:e,fatal:t})},e.prototype.setUserId=function(e){"function"==typeof gtag&&gtag("set",{user_id:e})},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.Router}]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e(n.inject(r.Router))},token:e,providedIn:"root"}),e}(),a=function(){function e(){}return e.prototype.appendTrackingCode=function(e){try{if(e){this.trackingId=e;var t=document.createElement("script");t.innerHTML="\n          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n          })(window,document,'script','dataLayer','"+e+"');\n        ",document.head.appendChild(t);var n=document.createElement("noscript"),r=document.createElement("iframe");r.width="0",r.height="0",r.style.display="none",r.style.visibility="hidden",r.src="https://www.googletagmanager.com/ns.html?id="+e,n.appendChild(r),document.body.prepend(n)}}catch(o){console.error("Error appending google tag manager"),console.error(o)}},e.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),i=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:"FactorUtilsConfiguration",useValue:e}]}},t.decorators=[{type:n.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],t}();e.StorageService=t,e.GoogleAnalyticsService=o,e.GoogleTagManagerService=a,e.UtilsModule=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=factor-utils.umd.min.js.map