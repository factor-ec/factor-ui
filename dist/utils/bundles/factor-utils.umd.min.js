!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/router"),require("@angular/core")):"function"==typeof define&&define.amd?define("factor-utils",["exports","@angular/router","@angular/core"],e):e(t["factor-utils"]={},t.ng.router,t.ng.core)}(this,function(t,o,n){"use strict";var e=function(){function t(){}return t.prototype["delete"]=function(t,e){e?delete e[t]:delete sessionStorage[t]},t.prototype.get=function(t,e){var n,o=e?e[t]:sessionStorage[t];if(o)try{n=JSON.parse(o)}catch(r){n=o}return n},t.prototype.set=function(t,e,n){n?n[t]=JSON.stringify(e):sessionStorage[t]=JSON.stringify(e)},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=n.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),r=function(){function t(t,e){var n=this;this.router=t,this.configuration=e,t.events.subscribe(function(t){try{"function"==typeof gtag&&t instanceof o.NavigationEnd&&setTimeout(function(){gtag("config",n.configuration.gaTrackingId,{page_title:document.title,page_path:t.urlAfterRedirects})},100)}catch(e){console.error(e)}})}return t.prototype.appendTrackingCode=function(){try{if(this.configuration&&this.configuration.gaTrackingId){var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id="+this.configuration.gaTrackingId,document.head.appendChild(t);var e=document.createElement("script");e.innerHTML="\n         window.dataLayer = window.dataLayer || [];\n         function gtag(){dataLayer.push(arguments);}\n         gtag('js', new Date());\n         gtag('config', '"+this.configuration.gaTrackingId+"');\n       ",document.head.appendChild(e)}}catch(n){console.error("Error appending google analytics"),console.error(n)}},t.prototype.setEvent=function(t,e,n,o){void 0===e&&(e=null),void 0===n&&(n=null),void 0===o&&(o=null),"function"==typeof gtag&&gtag("event",t,{event_category:e,event_label:n,value:o})},t.prototype.setUserId=function(t){"function"==typeof gtag&&gtag("set",{user_id:t})},t.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:o.Router},{type:undefined,decorators:[{type:n.Inject,args:["FactorUtilsConfiguration"]}]}]},t.ngInjectableDef=n.defineInjectable({factory:function(){return new t(n.inject(o.Router),n.inject("FactorUtilsConfiguration"))},token:t,providedIn:"root"}),t}(),i=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:"FactorUtilsConfiguration",useValue:t}]}},e.decorators=[{type:n.NgModule,args:[{declarations:[],imports:[],exports:[]}]}],e}();t.StorageService=e,t.GoogleAnalyticsService=r,t.UtilsModule=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=factor-utils.umd.min.js.map